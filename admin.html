<!DOCTYPE html>
<html lang="en">

<head>
    <!--
        âš ï¸ FINAL MAINTAINER NOTE - CRITICAL: READ THIS CAREFULLY âš ï¸
        
        FOR THE VERY LAST TIME - ALL DESIGNS MUST BE MAINTAINED:
        
        âœ… The Admin HTML and App HTML MUST maintain ALL designs
        âœ… EVERYTHING in the page MUST be maintained:
           - All visual designs, layouts, colors, fonts, spacing
           - All UI components, buttons, forms, cards, tables
           - All icons, emojis, images, and visual elements
           - All CSS classes, IDs, and HTML structure
           - All asset links (CSS, JS, images)
           - All offline functionality hooks
           - All responsive design breakpoints
           - All animations and transitions
           - All user interface elements and interactions
        
        âŒ DO NOT modify:
           - Structure, IDs, classes, or asset links
           - Visual design elements or layouts
           - CSS styling or responsive design
           - Any offline hooks or service-worker integration
           - Any content, text, or UI elements
        
        âš ï¸ If you need to change something, you MUST:
           1. Coordinate with the project owner
           2. Verify service-worker/cache behavior
           3. Run visual regression tests
           4. Ensure 100% offline functionality is maintained
           5. Ensure consistent UX across all devices
        
        This file is the Admin HTML - ALL DESIGNS MUST BE PRESERVED EXACTLY AS IMPLEMENTED.
    -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedFind Salone - Hospital Admin Portal</title>
    <link rel="stylesheet" href="admin-styles.css">
</head>

<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <div class="login-container">
            
            <div class="language-selector" style="display: flex; justify-content: center; gap: 10px; margin-bottom: 20px;">
                <button class="lang-btn active" onclick="setAdminLanguage('en')" id="adminLangEn">EN</button>
                <button class="lang-btn" onclick="setAdminLanguage('kr')" id="adminLangKr">KR</button>
            </div>
        <div class="login-header">
                <img src="./assets/logo.svg" alt="MedFind Salone Logo"
                    style="width: 80px; height: 80px; margin-bottom: 15px;">
                <h1>ğŸ¥ MedFind Salone</h1>
                <h2 data-translate="admin_subtitle">Hospital Admin Portal</h2>
            </div>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="username" data-translate="username">Username</label>
                    <input type="text" id="username" placeholder="Enter your username" required>
                </div>
                <div class="form-group">
                    <label for="password" data-translate="password">Password</label>
                    <input type="password" id="password" placeholder="Enter your password" required>
                </div>
                <div class="form-group">
                    <label for="hospitalSelect" data-translate="hospital_select_label">Hospital</label>
                    <select id="hospitalSelect" required>
                        <option value="" data-translate="select_hospital_placeholder">Select your hospital...</option>
                    </select>
                </div>
                <button type="submit" class="login-btn" data-translate="login_btn">Login</button>
            </form>
            <div class="login-footer">
                <p><span data-translate="need_help">Need help? Contact:</span> <a href="mailto:medfindsalone@gmail.com">medfindsalone@gmail.com</a></p>
                <p class="demo-note"><span data-translate="demo_note">ğŸ”“ Demo Mode: Use any username/password to login</span></p>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div id="adminDashboard" class="admin-dashboard" style="display: none;">
        <!-- Offline Banner -->
        <div id="offlineBanner" class="offline-banner">
            âš ï¸ You are offline. Updates will be synced when connection is restored.
        </div>

        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-left">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <img src="./assets/logo.svg" alt="Logo" style="width: 50px; height: 50px;">
                    <div>
                        <h1><span id="hospitalName">Hospital Name</span></h1>
                        <p class="hospital-type" id="hospitalType">Hospital Type</p>
                    </div>
                    <div class="header-right">
                        <div class="sync-status">
                            <span class="sync-dot" id="syncDot"></span>
                            <span id="syncStatus">Online</span>
                        </div>
                        <button class="btn-secondary" onclick="goToApp()" data-translate="view_patient_app">View Patient App</button>
                        <button class="btn-danger" onclick="logout()" data-translate="logout">Logout</button>
                    </div>
        </header>

        <!-- Stats Dashboard -->
        <div class="stats-grid">
            <div class="stat-card stat-primary">
                <div class="stat-icon">ğŸ›ï¸</div>
                <div class="stat-content">
                    <div class="stat-label" data-translate="beds_available">Beds Available</div>
                    <div class="stat-value" id="statBeds">0</div>
                    <div class="stat-total" id="statBedsTotal">of 0 total</div>
                </div>
            </div>
            <div class="stat-card stat-success" id="oxygenCard">
                <div class="stat-icon">ğŸ’¨</div>
                <div class="stat-content">
                    <div class="stat-label" data-translate="oxygen_status">Oxygen Status</div>
                    <div class="stat-value" id="statOxygen">Yes</div>
                </div>
            </div>
            <div class="stat-card stat-info" id="surgeonCard">
                <div class="stat-icon">ğŸ‘¨â€âš•ï¸</div>
                <div class="stat-content">
                    <div class="stat-label" data-translate="surgeons_on_duty">Surgeons on Duty</div>
                    <div class="stat-value" id="statSurgeons">Yes</div>
                </div>
            </div>
            <div class="stat-card stat-warning" id="ambulanceCard">
                <div class="stat-icon">ğŸš‘</div>
                <div class="stat-content">
                    <div class="stat-label" data-translate="ambulance">Ambulance</div>
                    <div class="stat-value" id="statAmbulance">Available</div>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <section class="panel">
            <h2 class="panel-title" data-translate="quick_updates_title">âš¡ Quick Updates</h2>
            <p class="panel-subtitle">One-click updates for the most common status changes</p>

            <div class="quick-actions-grid">
                <button class="quick-btn btn-green" onclick="quickUpdate('beds_full')">
                    <span class="btn-icon">ğŸ›ï¸</span>
                    <span class="btn-text" data-translate="beds_full">Beds Full</span>
                </button>
                <button class="quick-btn btn-blue" onclick="quickUpdate('beds_available')">
                    <span class="btn-icon">ğŸ†“</span>
                    <span class="btn-text">Beds Available</span>
                </button>
                <button class="quick-btn btn-red" onclick="quickUpdate('no_oxygen')">
                    <span class="btn-icon">ğŸ’¨</span>
                    <span class="btn-text" data-translate="no_oxygen">No Oxygen</span>
                </button>
                <button class="quick-btn btn-green" onclick="quickUpdate('oxygen_ok')">
                    <span class="btn-icon">âœ…</span>
                    <span class="btn-text" data-translate="oxygen_ok">Oxygen OK</span>
                </button>
                <button class="quick-btn btn-green" onclick="quickUpdate('surgeon_available')">
                    <span class="btn-icon">ğŸ‘¨â€âš•ï¸</span>
                    <span class="btn-text" data-translate="surgeon_available">Surgeon Available</span>
                </button>
                <button class="quick-btn btn-yellow" onclick="quickUpdate('surgeon_oncall')">
                    <span class="btn-icon">â°</span>
                    <span class="btn-text" data-translate="surgeon_oncall">Surgeon On-Call</span>
                </button>
                <button class="quick-btn btn-red" onclick="quickUpdate('ambulance_out')">
                    <span class="btn-icon">ğŸš‘</span>
                    <span class="btn-text" data-translate="ambulance_out">Ambulance Out</span>
                </button>
                <button class="quick-btn btn-green" onclick="quickUpdate('ambulance_ready')">
                    <span class="btn-icon">ğŸš</span>
                    <span class="btn-text" data-translate="ambulance_ready">Ambulance Ready</span>
                </button>
            </div>
        </section>

        <!-- Detailed Update Form -->
        <section class="panel">
            <h2 class="panel-title" data-translate="detailed_update_title">ğŸ“ Detailed Availability Update</h2>
            <p class="panel-subtitle">Update all fields at once for comprehensive status changes</p>

            <form id="updateForm" class="update-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="bedsInput" data-translate="beds_input_label">ğŸ›ï¸ Beds Available Now</label>
                        <input type="number" id="bedsInput" min="0" required>
                        <small id="bedCapacity">Total capacity: 0 beds</small>
                    </div>

                    <div class="form-group">
                        <label for="oxygenInput" data-translate="oxygen_input_label">ğŸ’¨ Oxygen Availability</label>
                        <select id="oxygenInput" required>
                            <option value="Yes">Yes - Adequate Supply</option>
                            <option value="Limited">Limited - Running Low</option>
                            <option value="No">No - Depleted</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="surgeonsInput" data-translate="surgeons_input_label">ğŸ‘¨â€âš•ï¸ Surgeons on Duty</label>
                        <select id="surgeonsInput" required>
                            <option value="Yes">Yes - On Site</option>
                            <option value="On Call">On Call - Available</option>
                            <option value="No">No - None Available</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="theatreInput" data-translate="theatre_input_label">ğŸ¥ Operating Theatre Status</label>
                        <select id="theatreInput" required>
                            <option value="Functional">Functional</option>
                            <option value="Limited">Limited Capacity</option>
                            <option value="Not Functional">Not Functional</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="ambulanceInput" data-translate="ambulance_input_label">ğŸš‘ Ambulance Availability</label>
                        <select id="ambulanceInput" required>
                            <option value="Yes">Yes - Ready to Dispatch</option>
                            <option value="No">No - Out/Unavailable</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="notesInput" data-translate="notes_input_label">ğŸ“ Additional Notes (Optional)</label>
                        <input type="text" id="notesInput" placeholder="e.g., 'Pediatric ward closed until 2pm'">
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="resetForm()">Reset</button>
                    <button type="submit" class="btn-primary" data-translate="save_changes_btn">ğŸ’¾ Save All Changes</button>
                </div>
            </form>
        </section>

        <!-- Update History -->
        <section class="panel">
            <h2 class="panel-title">ğŸ“Š Recent Updates History</h2>
            <p class="panel-subtitle">Track all changes made to your hospital's availability data</p>

            <div class="table-container">
                <table class="history-table">
                    <thead>
                        <tr>
                            <th>Date & Time</th>
                            <th>Field Updated</th>
                            <th>Old Value</th>
                            <th>New Value</th>
                            <th>Updated By</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="historyTableBody">
                        <tr>
                            <td colspan="6" class="no-data">No update history yet</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Data Management -->
        <section class="panel">
            <h2 class="panel-title">ğŸ’¾ Data Management</h2>
            <p class="panel-subtitle">Download or reset your hospital's data</p>

            <div class="data-management-actions">
                <button class="btn-secondary" onclick="downloadData()">
                    ğŸ“¥ Download Hospital Data (JSON)
                </button>
                <button class="btn-warning" onclick="viewAllHospitals()">
                    ğŸ¥ View All Hospitals
                </button>
                <button class="btn-danger" onclick="resetToDefault()">
                    ğŸ”„ Reset to Default Data
                </button>
            </div>
        </section>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <div id="toastMessage"></div>
    </div>

    <script src="data.js"></script>
    <script src="admin-script.js"></script>
</body>

</html>