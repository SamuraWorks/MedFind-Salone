<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedFind Salone - Hospital Admin Portal</title>
    <link rel="icon" type="image/svg+xml" href="./assets/logo.svg">
    <link rel="stylesheet" href="admin-styles.css">
</head>

<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <div class="login-container">
            <div class="language-selector"
                style="display: flex; justify-content: center; gap: 10px; margin-bottom: 20px;">
                <button class="lang-btn active" onclick="setAdminLanguage('en')" id="adminLangEn">EN</button>
                <button class="lang-btn" onclick="setAdminLanguage('kr')" id="adminLangKr">KR</button>
            </div>
            <div class="login-header">
                <img src="./assets/logo.svg" alt="MedFind Salone Logo"
                    style="width: 80px; height: 80px; margin-bottom: 15px;">
                <h1>üè• MedFind Salone</h1>
                <h2 data-translate="admin_subtitle">Hospital Admin Portal</h2>
            </div>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="username" data-translate="username">Username</label>
                    <input type="text" id="username" placeholder="Enter your username" required>
                </div>
                <div class="form-group">
                    <label for="password" data-translate="password">Password</label>
                    <input type="password" id="password" placeholder="Enter your password" required>
                </div>
                <div class="form-group">
                    <label for="hospitalSelect" data-translate="hospital_select_label">Hospital</label>
                    <select id="hospitalSelect" required>
                        <option value="" data-translate="select_hospital_placeholder">Select your hospital...</option>
                    </select>
                </div>
                <button type="submit" class="login-btn" data-translate="login_btn">Login</button>
            </form>
            <div class="login-footer">
                <p><span data-translate="need_help">Need help? Contact:</span> <a
                        href="mailto:medfindsalone@gmail.com">medfindsalone@gmail.com</a></p>
                <p class="demo-note"><span data-translate="demo_note">üîì Demo Mode: Use any username/password to
                        login</span></p>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div id="adminDashboard" class="admin-dashboard" style="display: none;">
        <!-- Offline Banner -->
        <div id="offlineBanner" class="offline-banner">
            ‚ö†Ô∏è You are offline. Updates will be synced when connection is restored.
        </div>

        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-left">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <img src="./assets/logo.svg" alt="Logo" style="width: 50px; height: 50px;">
                    <div>
                        <h1><span id="hospitalName">Hospital Name</span></h1>
                        <p class="hospital-type" id="hospitalType">Hospital Type</p>
                    </div>
                </div>
            </div>
            <div class="header-right">
                <div class="sync-status">
                    <span class="sync-dot" id="syncDot"></span>
                    <span id="syncStatus">Online</span>
                </div>
                <button class="btn-secondary" onclick="goToApp()" data-translate="view_patient_app">View Patient
                    App</button>
                <button class="btn-danger" onclick="logout()" data-translate="logout">Logout</button>
            </div>
        </header>

        <!-- Stats Dashboard -->
        <div class="stats-grid">
            <div class="stat-card stat-primary">
                <div class="stat-icon">üõèÔ∏è</div>
                <div class="stat-content">
                    <div class="stat-label">Total Beds Available</div>
                    <div class="stat-value" id="statBeds">0</div>
                    <div id="bedBreakdown" style="font-size: 11px; color: #6b7280; margin-top: 5px;">
                        ICU: <span id="statICU">0</span> | Mat: <span id="statMat">0</span> | Ped: <span
                            id="statPed">0</span>
                    </div>
                </div>
            </div>
            <div class="stat-card" id="oxygenCard">
                <div class="stat-icon">üí®</div>
                <div class="stat-content">
                    <div class="stat-label" data-translate="oxygen_status">Oxygen Status</div>
                    <div class="stat-value" id="statOxygen">Yes</div>
                </div>
            </div>
            <div class="stat-card" id="surgeonCard">
                <div class="stat-icon">üë®‚Äç‚öïÔ∏è</div>
                <div class="stat-content">
                    <div class="stat-label" data-translate="surgeons_on_duty">Surgeons on Duty</div>
                    <div class="stat-value" id="statSurgeons">Yes</div>
                </div>
            </div>
            <div class="stat-card" id="ambulanceCard">
                <div class="stat-icon">üöë</div>
                <div class="stat-content">
                    <div class="stat-label" data-translate="ambulance">Ambulance</div>
                    <div class="stat-value" id="statAmbulance">Available</div>
                </div>
            </div>
        </div>

        <!-- High-Impact Quick Status -->
        <section class="panel emergency-panel">
            <h2 class="panel-title" style="color: #dc2626;">üö® Emergency & High-Impact Status</h2>
            <div class="quick-actions-grid">
                <button class="quick-btn btn-red" onclick="quickUpdate('emergency_closed')">üö® ER Closed</button>
                <button class="quick-btn btn-green" onclick="quickUpdate('emergency_open')">üö® ER Open</button>
                <button class="quick-btn btn-red" onclick="quickUpdate('no_oxygen')">üí® No Oxygen</button>
                <button class="quick-btn btn-green" onclick="quickUpdate('oxygen_ok')">üí® Oxygen OK</button>
                <button class="quick-btn btn-yellow" onclick="quickUpdate('surgeon_oncall')">‚è∞ Surgeon On-Call</button>
                <button class="quick-btn btn-red" onclick="quickUpdate('beds_full')">üõèÔ∏è Beds Full</button>
            </div>
        </section>

        <!-- Detailed Update Form -->
        <section class="panel">
            <h2 class="panel-title" data-translate="detailed_update_title">üìù Full Data Update</h2>
            <form id="updateForm" class="update-form">

                <h3 style="margin: 20px 0 15px 0; border-bottom: 2px solid #f3f4f6; padding-bottom: 5px;">üõèÔ∏è Bed
                    Availability (Available / Total)</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Male Ward</label>
                        <div style="display: flex; gap: 5px;">
                            <input type="number" id="bedsMaleAvail" placeholder="Avail" min="0">
                            <input type="number" id="bedsMaleTotal" placeholder="Total" min="0">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Female Ward</label>
                        <div style="display: flex; gap: 5px;">
                            <input type="number" id="bedsFemaleAvail" placeholder="Avail" min="0">
                            <input type="number" id="bedsFemaleTotal" placeholder="Total" min="0">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Children (Pediatric)</label>
                        <div style="display: flex; gap: 5px;">
                            <input type="number" id="bedsPedAvail" placeholder="Avail" min="0">
                            <input type="number" id="bedsPedTotal" placeholder="Total" min="0">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>ICU</label>
                        <div style="display: flex; gap: 5px;">
                            <input type="number" id="bedsICUAvail" placeholder="Avail" min="0">
                            <input type="number" id="bedsICUTotal" placeholder="Total" min="0">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Maternity</label>
                        <div style="display: flex; gap: 5px;">
                            <input type="number" id="bedsMatAvail" placeholder="Avail" min="0">
                            <input type="number" id="bedsMatTotal" placeholder="Total" min="0">
                        </div>
                    </div>
                </div>

                <h3 style="margin: 20px 0 15px 0; border-bottom: 2px solid #f3f4f6; padding-bottom: 5px;">üè• Service &
                    Resource Status</h3>
                <div class="form-grid-services"
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div class="check-group">
                        <label><input type="checkbox" id="srvER"> Emergency Room</label>
                    </div>
                    <div class="check-group">
                        <label><input type="checkbox" id="srvSurgery"> Surgery (Theatre)</label>
                    </div>
                    <div class="check-group">
                        <label><input type="checkbox" id="srvLab"> Laboratory</label>
                    </div>
                    <div class="check-group">
                        <label><input type="checkbox" id="srvPharm"> Pharmacy</label>
                    </div>
                    <div class="check-group">
                        <label><input type="checkbox" id="srvBlood"> Blood Bank</label>
                    </div>
                </div>

                <h4 style="margin: 15px 0 10px 0; color: #4b5563;">ü©∫ Specialized Services</h4>
                <div class="form-grid-services"
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div class="check-group"><label><input type="checkbox" id="srvEye"> Eye Care (Ophtha)</label></div>
                    <div class="check-group"><label><input type="checkbox" id="srvENT"> Ear, Nose, Throat (ENT)</label>
                    </div>
                    <div class="check-group"><label><input type="checkbox" id="srvDental"> Dental (Tooth)</label></div>
                    <div class="check-group"><label><input type="checkbox" id="srvOrtho"> Orthopedic</label></div>
                    <div class="check-group"><label><input type="checkbox" id="srvCardio"> Cardiology</label></div>
                    <div class="check-group"><label><input type="checkbox" id="srvDialysis"> Dialysis</label></div>
                </div>

                <h3 style="margin: 20px 0 15px 0; border-bottom: 2px solid #f3f4f6; padding-bottom: 5px;">üë®‚Äç‚öïÔ∏è
                    Specialists & Critical Status</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Surgeons on Duty</label>
                        <select id="surgeonsInput">
                            <option value="Yes">Yes - On Site</option>
                            <option value="On Call">On Call</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Oxygen Availability</label>
                        <select id="oxygenInput">
                            <option value="Yes">Adequate Supply</option>
                            <option value="Limited">Limited Supply</option>
                            <option value="No">Out of Stock</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Ambulance</label>
                        <select id="ambulanceInput">
                            <option value="Yes">Available</option>
                            <option value="No">Unavailable</option>
                        </select>
                    </div>
                </div>

                <div class="form-group" style="margin-top: 20px;">
                    <label>Public Announcement / Notes</label>
                    <textarea id="notesInput" rows="3" placeholder="Important updates for patients..."></textarea>
                </div>

                <div class="form-actions" style="margin-top: 30px;">
                    <button type="button" class="btn-secondary" onclick="resetForm()">Discard Changes</button>
                    <button type="submit" class="btn-primary" style="padding: 18px 40px; font-size: 18px;">üíæ Sync &
                        Save Updates</button>
                </div>
            </form>
        </section>

        <!-- Update History -->
        <section class="panel">
            <h2 class="panel-title">üìä Recent Updates History</h2>
            <p class="panel-subtitle">Track all changes made to your hospital's availability data</p>

            <div class="table-container">
                <table class="history-table">
                    <thead>
                        <tr>
                            <th>Date & Time</th>
                            <th>Field Updated</th>
                            <th>Old Value</th>
                            <th>New Value</th>
                            <th>Updated By</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="historyTableBody">
                        <tr>
                            <td colspan="6" class="no-data">No update history yet</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Data Management -->
        <section class="panel">
            <h2 class="panel-title">üíæ Data Management</h2>
            <div class="data-management-actions">
                <button class="btn-secondary" onclick="downloadData()">üì• Download Data</button>
                <button class="btn-warning" onclick="viewAllHospitals()">üè• All Hospitals</button>
                <button class="btn-danger" onclick="resetToDefault()">üîÑ Reset Data</button>
            </div>
        </section>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <div id="toastMessage"></div>
    </div>

    <script src="data.js"></script>
    <script src="admin-script.js"></script>
</body>

</html>